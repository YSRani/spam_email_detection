import pickle
from sklearn.naive_bayes import MultinomialNB
from sklearn.feature_extraction.text import TfidfVectorizer

# Sample training data (replace this with your actual dataset)
X_train = ["Free money!!!", "Hi, how are you?", "Win a prize now!", "Meeting at 3 PM"]
y_train = [1, 0, 1, 0]  # 1 = spam, 0 = not spam

# Convert text to numerical format using TF-IDF
vectorizer = TfidfVectorizer()
X_train_transformed = vectorizer.fit_transform(X_train)

# Train the Naïve Bayes model
nb_model = MultinomialNB()
nb_model.fit(X_train_transformed, y_train)

# Save the Naïve Bayes Model
with open("nb_model.pkl", "wb") as f:
    pickle.dump(nb_model, f)

# Save the TF-IDF Vectorizer
with open("vectorizer.pkl", "wb") as f:
    pickle.dump(vectorizer, f)

print("✅ Model and vectorizer saved successfully!")
